╔═══════════════════════════════════════════════════════════════════════════╗
║                  🎙️ VOICE COACH - QUICK FIX GUIDE                        ║
╚═══════════════════════════════════════════════════════════════════════════╝

ERROR: "Could not generate example audio. Please try again."

┌───────────────────────────────────────────────────────────────────────────┐
│ SOLUTION 1: Check Backend is Running                                     │
└───────────────────────────────────────────────────────────────────────────┘

  Open browser: http://localhost:8083/api/voice/health
  
  ✅ Shows "Voice Coach API is running!" → Backend OK, go to Solution 2
  ❌ Cannot connect → Backend not running
  
  Fix: Open terminal and run:
    cd backend
    ./mvnw spring-boot:run


┌───────────────────────────────────────────────────────────────────────────┐
│ SOLUTION 2: Check OpenAI API Key                                         │
└───────────────────────────────────────────────────────────────────────────┘

  Open browser: http://localhost:8083/api/voice/config-check
  
  ✅ Shows "configured": true → API key OK, go to Solution 3
  ❌ Shows "configured": false → API key missing or wrong
  
  Fix:
    1. Get API key: https://platform.openai.com/api-keys
    2. Open: backend/src/main/resources/application.properties
    3. Find: openai.api.key=your-openai-api-key-here
    4. Replace with: openai.api.key=sk-proj-YOUR_ACTUAL_KEY
    5. Restart backend (Ctrl+C, then ./mvnw spring-boot:run)


┌───────────────────────────────────────────────────────────────────────────┐
│ SOLUTION 3: Use Browser TTS Fallback                                     │
└───────────────────────────────────────────────────────────────────────────┘

  When the error appears, you'll see a popup:
  "Backend TTS unavailable. Use browser's built-in voice instead?"
  
  Click [OK] to use your browser's speech synthesis
  
  Note: Browser TTS quality is lower but works without API key


┌───────────────────────────────────────────────────────────────────────────┐
│ SOLUTION 4: Run Diagnostic Script                                        │
└───────────────────────────────────────────────────────────────────────────┘

  Open PowerShell in project root and run:
    .\diagnose-voice-coach.ps1
  
  This will check:
    ✓ Backend status
    ✓ API configuration
    ✓ Frontend status
    ✓ Java/Node.js installation
    ✓ Configuration file


┌───────────────────────────────────────────────────────────────────────────┐
│ SOLUTION 5: Test with Standalone Page                                    │
└───────────────────────────────────────────────────────────────────────────┘

  Open in browser: voice-coach-test.html
  
  This page tests all features independently:
    1. Configuration check
    2. Health check
    3. Recording test
    4. TTS test


╔═══════════════════════════════════════════════════════════════════════════╗
║                          COMMON MISTAKES                                  ║
╚═══════════════════════════════════════════════════════════════════════════╝

  ❌ API key still has placeholder text
     Fix: Replace "your-openai-api-key-here" with actual key

  ❌ API key has extra spaces
     Fix: No spaces before/after key: openai.api.key=sk-proj-abc123

  ❌ Backend running on wrong port
     Fix: Check port in application.properties: server.port=8083

  ❌ Didn't restart backend after changing config
     Fix: Stop (Ctrl+C) and restart backend

  ❌ OpenAI account has no credits
     Fix: Add payment method at https://platform.openai.com/account/billing


╔═══════════════════════════════════════════════════════════════════════════╗
║                     VERIFICATION CHECKLIST                                ║
╚═══════════════════════════════════════════════════════════════════════════╝

  Step 1: [ ] Backend running
          → Terminal shows: "Started BackendApplication"
          
  Step 2: [ ] Port 8083 accessible
          → http://localhost:8083/api/voice/health works
          
  Step 3: [ ] API key configured
          → http://localhost:8083/api/voice/config-check shows true
          
  Step 4: [ ] Frontend running
          → ng serve shows "Compiled successfully"
          
  Step 5: [ ] Can access app
          → http://localhost:4200/voice-coach loads
          
  Step 6: [ ] TTS works
          → Click "Listen to Example" → Audio plays


╔═══════════════════════════════════════════════════════════════════════════╗
║                        STILL NOT WORKING?                                 ║
╚═══════════════════════════════════════════════════════════════════════════╝

  1. Check browser console (F12) for detailed errors
  
  2. Check backend terminal for error messages
  
  3. Try these URLs in browser:
     • http://localhost:8083/api/voice/health
     • http://localhost:8083/api/voice/config-check
  
  4. Read full documentation:
     • TROUBLESHOOTING_VOICE_COACH.md (detailed guide)
     • QUICK_START_VOICE_COACH.md (setup instructions)
     • ARCHITECTURE.txt (system overview)
  
  5. Test with: voice-coach-test.html


╔═══════════════════════════════════════════════════════════════════════════╗
║                      💡 PRO TIPS                                          ║
╚═══════════════════════════════════════════════════════════════════════════╝

  • Keep both terminals open (backend + frontend)
  • Check logs when errors occur
  • Use browser's Network tab (F12) to debug API calls
  • The warning banner in the app shows configuration status
  • Browser TTS fallback works offline (no API needed)


╔═══════════════════════════════════════════════════════════════════════════╗
║                    🎉 SUCCESS INDICATORS                                  ║
╚═══════════════════════════════════════════════════════════════════════════╝

  When everything works correctly:
  
  ✅ No warning banner appears in the app
  ✅ "Listen to Example" plays audio smoothly
  ✅ Recording creates audio file
  ✅ Analysis returns score and feedback
  ✅ Console shows: "✅ Backend is reachable"
  ✅ Console shows: "✅ OpenAI API configured"


═══════════════════════════════════════════════════════════════════════════

Need more help? See TROUBLESHOOTING_VOICE_COACH.md for complete guide!
